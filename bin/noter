#!/usr/bin/env ruby

require "noter"
require "optparse"

class NoteRunner
  def run(args)
    parser = OptionParser.new do |opts|
      opts.on("-f", "--file FILE", "Use the specified file as the note") do |filename|
        Noter::FileMaker.new.make_from_file(filename)
      end

      opts.on("-l", "--one-line", "Show first lines of each note file") do
        Noter::Viewer.new.show_first_lines
      end

      opts.on("-m", "--message MESSAGE", "Use the given message as the note") do |message|
        Noter::FileMaker.new(message).save_file
      end
    end
    parser.parse!
  end
end

runner = NoteRunner.new
runner.run(ARGV)
